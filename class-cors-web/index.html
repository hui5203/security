<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>cors测试</title>
</head>
<body>
    <h1>测试跨域（cors）</h1>
    <button id="button">测试get user</button>
    <button id="button2">测试post user</button>
</body>
<script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js">
</script>
<script>
    <!-- 用ajax来跨域访问资源-->
    //定义全局变量
    var url= "http://localhost:8080/user";
    $("#button").click(function () {
        $.ajax({
            url:url,
            type:"GET",     //GET传参
            xhrFields:{
                withCredentials:true
            },
            crossDomain:true,
            success:function (data) {
                debugger;
                alert(data)
            },
            error:function (err) {
                alert(err);
            }
        });
        // $.get(url, function (data, status) {
        //     debugger;
        //     alert("Data: " + data + "nStatus: " + status);
        // });
    });

    $("#button2").click(function () {
        $.ajax({
            url:url,
            type:"POST",        //POST传参
            xhrFields:{
                withCredentials:true
            },
            headers:{'AAAAAAA':'AAAAAAAhgjkgA'},
            data:{
              "userName":"hui",
              "sex":"woman",
              "dept":"taiji"
            },
            crossDomain:true,
            success:function (data) {
                debugger;
                alert(data)
            },
            error:function (err) {
                alert(err);
            }
        });
        // $.get(url, function (data, status) {
        //     debugger;
        //     alert("Data: " + data + "nStatus: " + status);
        // });
    });
</script>
</html>